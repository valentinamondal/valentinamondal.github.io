<!DOCTYPE html>
<html>
<head>
  <title>COVID CASES COMPARISION MULTIPLE LINE CHART</title>
  <script src="https://d3js.org/d3.v4.js"></script>
  <script data-require="d3@3.5.3" data-semver="3.5.3" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.js"></script>
  <style>
    body {
      font: 12px sans-serif;
      background-color:beige
    }
    
    .axis path,
    .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }
    
    .x.axis path {
      display: none;
    }
    
    .line {
      fill: none;
      stroke: steelblue;
      stroke-width: 1.5px;
    }
  </style>
</head>

<body>
  <div style="text-align: center;">
    <h1>TOP 5 AND LEAST 5 COVID-19 IMPACTED COUNTRIES</h1>
    <div style="text-align: left;">
    <p>As shown in the below multiple line chart, one can see the growth of the cases over the past few months of 2020 for the top 10 and least 10 COVID impacted countries till 25 July. Each of the countries in the line chart correspond to a specific color as shown in the color legend. The gradual tremendous spike in number of cases of United States (in royal blue) since late March can be clearly observed.</p>
    </div>
    <p>Cases vs Month</p>
    <p>Mouse Over to get more details</p>
    <div style="text-align: left;"><a href="grouped_bc_bottom_10.html">
      <button>Previous</button></div>
    </a>
    <div style="text-align: right;"><a href="linechart.html">
        <button>Next</button></div>
    </a>
    <div id="d3id" />
  </div>
  <script>
    var myData = "date	United States	Brazil	India	Russia	South Africa	Mexico	Peru	Chile	United Kingdom	Iran	Papua New Guinea	Fiji	Timor-Leste	Saint Lucia	Grenada	Laos	Dominica	Saint Kitts & Nevis	Holy See	Western Sahara\n\
20200122	1	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0\n\
20200123	1	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0\n\
20200124	2	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0\n\
20200125	2	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0\n\
20200126	5	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0\n\
20200127	5	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0\n\
20200128	5	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0\n\
20200129	5	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0\n\
20200130	5	0	1	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0\n\
20200131	7	0	1	2	0	0	0	0	2	0	0	0	0	0	0	0	0	0	0	0\n\
20200201	8	0	1	2	0	0	0	0	2	0	0	0	0	0	0	0	0	0	0	0\n\
20200202	8	0	2	2	0	0	0	0	2	0	0	0	0	0	0	0	0	0	0	0\n\
20200203	11	0	3	2	0	0	0	0	8	0	0	0	0	0	0	0	0	0	0	0\n\
20200204	11	0	3	2	0	0	0	0	8	0	0	0	0	0	0	0	0	0	0	0\n\
20200205	11	0	3	2	0	0	0	0	9	0	0	0	0	0	0	0	0	0	0	0\n\
20200206	11	0	3	2	0	0	0	0	9	0	0	0	0	0	0	0	0	0	0	0\n\
20200207	11	0	3	2	0	0	0	0	9	0	0	0	0	0	0	0	0	0	0	0\n\
20200208	11	0	3	2	0	0	0	0	13	0	0	0	0	0	0	0	0	0	0	0\n\
20200209	11	0	3	2	0	0	0	0	14	0	0	0	0	0	0	0	0	0	0	0\n\
20200210	11	0	3	2	0	0	0	0	14	0	0	0	0	0	0	0	0	0	0	0\n\
20200211	12	0	3	2	0	0	0	0	15	0	0	0	0	0	0	0	0	0	0	0\n\
20200212	12	0	3	2	0	0	0	0	16	0	0	0	0	0	0	0	0	0	0	0\n\
20200213	13	0	3	2	0	0	0	0	17	0	0	0	0	0	0	0	0	0	0	0\n\
20200214	13	0	3	2	0	0	0	0	18	0	0	0	0	0	0	0	0	0	0	0\n\
20200215	13	0	3	2	0	0	0	0	18	0	0	0	0	0	0	0	0	0	0	0\n\
20200216	13	0	3	2	0	0	0	0	18	0	0	0	0	0	0	0	0	0	0	0\n\
20200217	13	0	3	2	0	0	0	0	19	0	0	0	0	0	0	0	0	0	0	0\n\
20200218	13	0	3	2	0	0	0	0	19	0	0	0	0	0	0	0	0	0	0	0\n\
20200219	13	0	3	2	0	0	0	0	20	2	0	0	0	0	0	0	0	0	0	0\n\
20200220	13	0	3	2	0	0	0	0	22	5	0	0	0	0	0	0	0	0	0	0\n\
20200221	15	0	3	2	0	0	0	0	23	18	0	0	0	0	0	0	0	0	0	0\n\
20200222	15	0	3	2	0	0	0	0	23	28	0	0	0	0	0	0	0	0	0	0\n\
20200223	15	0	3	2	0	0	0	2	28	43	0	0	0	0	0	0	0	0	0	0\n\
20200224	15	0	3	2	0	0	0	2	30	61	0	0	0	0	0	0	0	0	0	0\n\
20200225	15	0	3	2	0	0	0	2	34	95	0	0	0	0	0	0	0	0	0	0\n\
20200226	15	1	3	2	0	0	0	2	37	139	0	0	0	0	0	0	0	0	0	0\n\
20200227	16	1	3	2	0	0	0	2	44	245	0	0	0	0	0	0	0	0	0	0\n\
20200228	16	1	3	2	0	1	0	2	56	388	0	0	0	0	0	0	0	0	0	0\n\
20200229	24	2	3	2	0	4	0	2	61	593	0	0	0	0	0	0	0	0	0	0\n\
20200301	30	2	3	2	0	5	0	9	94	978	0	0	0	0	0	0	0	0	0	0\n\
20200302	53	2	5	3	0	5	0	9	134	1501	0	0	0	0	0	0	0	0	0	0\n\
20200303	73	2	5	3	0	5	0	10	189	2336	0	0	0	0	0	0	0	0	0	0\n\
20200304	104	4	28	3	0	5	0	10	246	2922	0	0	0	0	0	0	0	0	0	0\n\
20200305	174	4	30	4	1	5	0	13	295	3513	0	0	0	0	0	0	0	0	0	0\n\
20200306	222	13	31	13	1	6	1	13	374	4747	0	0	0	0	0	0	0	0	1	0\n\
20200307	337	13	34	13	1	6	1	13	429	5823	0	0	0	0	0	0	0	0	1	0\n\
20200308	451	20	39	17	3	7	6	20	483	6566	0	0	0	0	0	0	0	0	1	0\n\
20200309	519	25	43	17	3	7	7	20	630	7161	0	0	0	0	0	0	0	0	1	0\n\
20200310	711	31	56	20	7	7	11	25	889	8042	0	0	0	0	0	0	0	0	1	0\n\
20200311	1109	38	62	20	13	8	11	35	1301	9000	0	0	0	0	0	0	0	0	1	0\n\
20200312	1561	52	73	28	17	12	15	35	1791	10075	0	0	0	0	0	0	0	0	1	0\n\
20200313	2157	151	82	45	24	26	28	55	2270	11364	0	0	0	0	0	0	0	0	1	0\n\
20200314	2870	151	102	59	38	41	38	88	2634	12729	0	0	0	1	0	0	0	0	1	0\n\
20200315	2968	162	113	63	51	53	43	101	3077	13938	0	0	0	2	0	0	0	0	1	0\n\
20200316	4360	200	119	90	62	82	86	182	3692	14991	0	0	0	2	0	0	0	0	1	0\n\
20200317	6141	321	142	114	62	93	117	228	4462	16169	0	0	0	2	0	0	0	0	1	0\n\
20200318	8917	372	156	147	116	118	145	265	5467	17361	0	0	0	2	0	0	0	0	1	0\n\
20200319	14157	621	194	199	150	164	234	265	6533	18407	0	1	0	2	0	0	0	0	1	0\n\
20200320	19479	793	244	253	202	203	234	461	7791	19644	1	1	0	2	0	0	0	0	1	0\n\
20200321	25825	1021	330	306	240	251	318	592	9006	20610	1	1	0	2	0	0	0	0	1	0\n\
20200322	33761	1546	396	367	274	316	363	687	10395	21638	1	2	1	2	1	0	1	0	1	0\n\
20200323	43850	1924	499	438	402	367	395	801	12744	23049	1	3	1	3	1	0	2	0	1	0\n\
20200324	54112	2247	536	495	554	405	416	977	15126	24811	1	4	1	3	1	2	2	0	4	0\n\
20200325	66055	2554	657	658	709	475	480	1197	17843	27017	1	5	1	3	1	3	7	2	4	0\n\
20200326	84091	2985	727	840	927	585	580	1361	20970	29406	1	5	1	3	7	6	11	2	4	0\n\
20200327	102276	3417	887	1036	1170	717	635	1665	24219	32332	1	5	1	3	7	6	11	2	4	0\n\
20200328	122069	3904	987	1264	1187	848	671	2015	27062	35408	1	5	1	3	7	8	11	2	6	0\n\
20200329	141205	4256	1024	1534	1280	993	852	2245	29954	38309	1	5	1	9	9	8	11	2	6	0\n\
20200330	162707	4579	1251	1836	1326	1094	950	2555	34281	41495	1	5	1	9	9	8	11	7	6	0\n\
20200331	188724	5717	1397	2337	1353	1215	1065	2844	38815	44605	1	5	1	13	9	9	12	8	6	0\n\
20200401	214205	6836	1998	2777	1380	1378	1323	3137	43789	47593	1	5	1	13	9	10	12	8	6	0\n\
20200402	244610	8044	2543	3548	1462	1510	1414	3510	48718	50468	1	7	1	13	10	10	12	9	7	0\n\
20200403	276547	9056	2567	4149	1505	1688	1595	3843	53699	53183	1	7	1	13	12	10	12	9	7	0\n\
20200404	309699	10360	3082	4731	1585	1890	1746	4355	57772	55743	1	12	1	14	12	10	14	9	7	0\n\
20200405	337573	11130	3588	5389	1655	2143	2281	4665	61422	58226	1	12	1	14	12	11	14	10	7	4\n\
20200406	367215	12161	4778	6343	1686	2439	2561	5009	66738	60500	2	14	1	14	12	12	15	10	7	4\n\
20200407	397992	14034	5311	7497	1749	2785	2954	5310	72224	62589	2	15	1	14	12	14	15	11	7	4\n\
20200408	429686	16170	5916	8672	1845	3181	4342	5740	77387	64586	2	15	1	14	12	15	15	11	8	4\n\
20200409	464442	18092	6725	10131	1934	3441	5256	6166	82293	66220	2	15	1	14	12	16	15	11	8	4\n\
20200410	497943	19638	7598	11917	2003	3844	5897	6695	86660	68192	2	16	2	15	14	16	16	12	8	4\n\
20200411	527969	20727	8446	13584	2028	4219	6848	7366	90273	70029	2	16	2	15	14	18	16	12	8	4\n\
20200412	556522	22192	9205	15770	2173	4661	7519	7652	93812	71686	2	16	2	15	14	19	16	12	8	6\n\
20200413	581813	23430	10453	18328	2272	5014	9784	7964	98017	73303	2	16	4	15	14	19	16	12	8	6\n\
20200414	608878	25262	11487	21102	2415	5399	10303	8356	102365	74877	2	16	6	15	14	19	16	14	8	6\n\
20200415	637974	28320	12322	24490	2506	5847	11475	8712	107465	76389	2	16	8	15	14	19	16	14	8	6\n\
20200416	669272	30425	13430	27938	2605	6297	12491	9246	112808	77995	7	17	18	15	14	19	16	14	8	6\n\
20200417	701996	33682	14352	32008	2783	6875	13489	9691	117798	79494	7	17	18	15	14	19	16	14	8	6\n\
20200418	730337	36658	15722	36793	3034	7497	14420	10598	122534	80868	7	17	18	15	14	19	16	14	8	6\n\
20200419	756375	38654	17615	42853	3158	8261	15628	10956	126394	82211	7	17	19	15	14	19	16	14	8	6\n\
20200420	783716	40743	18539	47121	3300	8772	16325	11375	131260	83505	7	18	22	15	14	19	16	15	9	6\n\
20200421	809318	43079	20080	52763	3465	9501	17837	11700	136035	84802	7	18	23	15	14	19	16	15	9	6\n\
20200422	837422	45757	21370	57999	3635	10544	19250	12164	141540	85996	8	18	23	15	15	19	16	15	9	6\n\
20200423	871617	50036	23077	62773	3953	11633	20914	12680	146708	87026	8	18	23	15	15	19	16	15	9	6\n\
20200424	907908	54043	24530	68622	4220	12872	21648	13174	151689	88194	8	18	24	15	15	19	16	15	9	6\n\
20200425	940829	59324	26283	74588	4361	13842	25331	14537	155453	89328	8	18	24	15	18	19	16	15	9	6\n\
20200426	968518	63100	27890	80949	4546	14677	27517	15010	158926	90481	8	18	24	15	18	19	16	15	9	6\n\
20200427	990983	67446	29451	87147	4793	15529	28699	15492	163630	91472	8	18	24	15	18	19	16	15	9	6\n\
20200428	1015518	73235	31324	93558	4996	16752	31190	16044	168357	92584	8	18	24	15	19	19	16	15	10	6\n\
20200429	1043038	79685	33062	99399	5350	17799	33931	16564	173807	93657	8	18	24	17	20	19	16	15	10	6\n\
20200430	1072667	87187	34863	106498	5647	19224	36976	17702	178771	94640	8	18	24	17	20	19	16	15	11	6\n\
20200501	1106829	92202	37257	114431	5951	20739	40459	18687	183501	95646	8	18	24	17	20	19	16	15	11	6\n\
20200502	1136024	97100	39699	124054	6336	22088	42534	21213	186731	96448	8	18	24	17	21	19	16	15	11	6\n\
20200503	1161611	101826	42505	134687	6783	23471	45928	22441	189708	97424	8	18	24	18	21	19	16	15	11	6\n\
20200504	1184086	108620	46437	145268	7220	24905	47372	23421	193091	98647	8	18	24	18	21	19	16	15	11	6\n\
20200505	1208271	115455	49400	155370	7572	26025	51189	24794	196780	99970	8	18	24	18	21	19	16	15	11	6\n\
20200506	1233527	126611	52987	165929	7808	27634	54817	25826	200616	101650	8	18	24	18	21	19	16	15	12	6\n\
20200507	1261409	135773	56351	177160	8232	29616	58526	27359	204387	103135	8	18	24	18	21	19	16	15	12	6\n\
20200508	1288587	146894	59695	187859	8895	31522	61847	28750	207439	104691	8	18	24	18	21	19	16	15	12	6\n\
20200509	1314320	156061	62808	198676	9420	33460	65015	32208	209589	106220	8	18	24	18	21	19	16	15	12	6\n\
20200510	1334084	162699	67161	209688	10015	35022	67307	33855	211911	107603	8	18	24	18	21	19	16	15	12	6\n\
20200511	1352962	169594	70768	221344	10652	36327	68822	35052	215500	109286	8	18	24	18	21	19	16	15	12	6\n\
20200512	1375152	178214	74292	232243	11350	38324	72059	36710	218895	110767	8	18	24	18	21	19	16	15	12	6\n\
20200513	1396110	190137	78055	242271	12074	40186	76306	39370	222915	112725	8	18	24	18	21	19	16	15	12	6\n\
20200514	1423727	203165	81997	252245	12739	42595	80604	42029	223524	114533	8	18	24	18	21	19	16	15	12	6\n\
20200515	1449027	220291	85784	262843	13524	45032	84495	44531	227334	116635	8	18	24	18	22	19	16	15	12	6\n\
20200516	1474128	233511	90648	272043	14355	47144	88541	50016	229406	118392	8	18	24	18	22	19	16	15	12	6\n\
20200517	1493132	241080	95698	281752	15515	49219	92273	52369	231321	120198	8	18	24	18	22	19	16	15	12	6\n\
20200518	1514901	255368	100328	290678	16433	51633	94933	54647	233809	122492	8	18	24	18	22	19	16	15	12	6\n\
20200519	1535350	271885	106475	299941	17200	54346	99483	58167	236867	124603	8	18	24	18	22	19	16	15	12	6\n\
20200520	1559157	291579	112028	308705	18003	56594	104020	62205	239579	126949	8	18	24	18	22	19	16	15	12	6\n\
20200521	1584512	310087	118226	317554	19137	59567	108769	66169	242133	129341	8	18	24	18	22	19	16	15	12	6\n\
20200522	1608653	330890	124794	326448	20125	62527	111698	70445	244174	131652	8	18	24	18	22	19	16	15	12	6\n\
20200523	1630476	347398	131423	335882	21343	65856	115754	80287	244682	133521	8	18	24	18	22	19	16	15	12	6\n\
20200524	1651289	363211	138536	344481	22583	68620	119959	83996	247037	135701	8	18	24	18	22	19	16	15	12	9\n\
20200525	1670280	374898	144950	353427	23615	71105	123979	88891	248650	137724	8	18	24	18	23	19	16	15	12	9\n\
20200526	1689163	391222	150793	362342	24264	74560	129751	92855	250309	139511	8	18	24	18	23	19	16	15	12	9\n\
20200527	1707445	411821	158086	370680	25937	78023	135905	97183	252118	141591	8	18	24	18	23	19	16	15	12	9\n\
20200528	1730260	438238	165386	379051	27403	81400	141779	101837	252385	143849	8	18	24	18	23	19	16	15	12	9\n\
20200529	1754764	465166	173491	387623	29240	84627	148285	105532	255362	146668	8	18	24	18	23	19	16	15	12	9\n\
20200530	1779214	498440	181827	396575	30967	87512	155671	118720	256469	148950	8	18	24	18	23	19	16	15	12	9\n\
20200531	1799124	514849	190609	405843	32683	90664	164476	123550	257539	151466	8	18	24	18	23	19	16	15	12	9\n\
20200601	1816479	526447	198370	414328	34357	93435	170039	129020	258983	154445	8	18	24	18	23	19	16	15	12	9\n\
20200602	1837374	555383	207191	423186	35812	97326	178165	132548	260453	157562	8	18	24	18	23	19	18	15	12	9\n\
20200603	1857332	584016	216824	431715	37525	101238	178914	137490	261802	160696	8	18	24	18	23	19	18	15	12	9\n\
20200604	1878683	614941	226713	440538	40792	105680	183198	142154	263040	164270	8	18	24	19	23	19	18	15	12	9\n\
20200605	1903907	645771	236184	449256	43434	110026	187400	146361	264150	167156	8	18	24	19	23	19	18	15	12	9\n\
20200606	1926639	672846	246622	458102	45973	113619	191758	160351	264944	169425	8	18	24	19	23	19	18	15	12	9\n\
20200607	1944370	691758	257486	467073	48285	117103	196515	166756	265662	171789	8	18	24	19	23	19	18	15	12	9\n\
20200608	1961785	707412	265928	476043	50879	120102	199696	171452	266756	173832	8	18	24	19	23	19	18	15	12	9\n\
20200609	1979912	739503	276146	484630	52991	124301	203736	175365	267915	175927	8	18	24	19	23	19	18	15	12	9\n\
20200610	2000706	772416	286605	493023	55421	129184	208823	181062	269101	177938	8	18	24	19	23	19	18	15	12	9\n\
20200611	2023656	802828	297535	501800	58568	133974	214788	186698	270108	180156	8	18	24	19	23	19	18	15	12	9\n\
20200612	2048986	828810	308993	510761	61927	139196	214788	193452	271162	182525	8	18	24	19	23	19	18	15	12	9\n\
20200613	2074542	850514	320922	519458	65736	142690	220749	201634	272050	184955	8	18	24	19	23	19	18	15	12	9\n\
20200614	2094366	867624	332424	528267	70038	146837	229736	208572	272857	187427	8	18	24	19	23	19	18	15	12	9\n\
20200615	2114026	888271	343091	536484	73533	150264	232992	213715	273888	189876	8	18	24	19	23	19	18	15	12	9\n\
20200616	2137731	923189	354065	544725	76334	154863	237156	218728	274971	192439	8	18	24	19	23	19	18	15	12	9\n\
20200617	2163290	955377	366946	552549	80412	159793	240908	220628	275970	195051	8	18	24	19	23	19	18	15	12	9\n\
20200618	2191099	978142	380532	560321	83890	165455	244388	225103	276990	197647	8	18	24	19	23	19	18	15	12	9\n\
20200619	2222579	1032913	395048	568292	87715	170485	247925	231393	277974	200262	8	18	24	19	23	19	18	15	12	9\n\
20200620	2255328	1067579	410451	576162	92681	175202	251338	236748	278640	202584	8	18	24	19	23	19	18	15	12	9\n\
20200621	2281767	1083341	425282	583879	97302	180545	254936	242355	279264	204952	8	18	24	19	23	19	18	15	12	9\n\
20200622	2312303	1106470	440215	591465	101590	185122	257447	246963	280156	207525	9	18	24	19	23	19	18	15	12	10\n\
20200623	2347491	1145906	456183	598878	106108	191410	260810	250767	281038	209970	9	18	24	19	23	19	18	15	12	10\n\
20200624	2382426	1188631	473105	606043	111796	196847	264689	254416	281815	212501	10	18	24	19	23	19	18	15	12	10\n\
20200625	2422299	1228114	490401	613148	118375	202951	268602	259064	282512	215096	10	18	24	19	23	19	18	15	12	10\n\
20200626	2467554	1274974	508953	619936	124590	208392	272364	263360	283151	217724	11	18	24	19	23	19	18	15	12	10\n\
20200627	2510259	1313667	528859	626779	131800	212802	275989	267766	283785	220180	11	18	24	19	23	19	18	15	12	10\n\
20200628	2549864	1344143	548318	633563	138134	216852	279419	271982	284192	222669	11	18	24	19	23	19	18	15	12	10\n\
20200629	2590668	1368195	566840	640246	144264	220657	282365	275999	284812	225205	11	18	24	19	23	19	18	15	12	10\n\
20200630	2636414	1402041	585481	646929	151209	226089	285213	279393	285216	227662	11	18	24	19	23	19	18	15	12	10\n\
20200701	2687588	1448753	604641	653479	159333	231770	288477	282043	285279	230211	11	18	24	19	23	19	18	15	12	10\n\
20200702	2742049	1496858	625544	660231	168061	238511	292004	284541	285285	232863	11	18	24	19	23	19	18	15	12	10\n\
20200703	2795361	1539081	648315	666941	177124	245251	295599	288089	285787	235429	11	18	24	22	23	19	18	15	12	10\n\
20200704	2841241	1577004	673165	673564	187977	252165	299080	291847	286412	237878	11	18	24	22	23	19	18	16	12	10\n\
20200705	2891124	1603055	697413	680283	196750	256848	302718	295532	286931	240438	11	19	24	22	23	19	18	16	12	10\n\
20200706	2936077	1623284	719664	686852	205721	261750	305703	298557	287290	243051	11	21	24	22	23	19	18	16	12	10\n\
20200707	2996098	1668589	742417	693215	215855	268008	309278	301019	287874	245688	11	21	24	22	23	19	18	16	12	10\n\
20200708	3054699	1713160	767296	699749	224665	275003	312911	303083	288511	248379	11	21	24	22	23	19	18	16	12	10\n\
20200709	3117946	1755779	793802	706240	238339	282283	316448	306216	289154	250458	11	26	24	22	23	19	18	16	12	10\n\
20200710	3185737	1800827	820916	712863	250687	289174	319646	309274	289678	252720	11	26	24	22	23	19	18	17	12	10\n\
20200711	3245925	1839850	849522	719449	264184	295268	322710	312029	290504	255117	11	26	24	22	23	19	18	17	12	10\n\
20200712	3304942	1864681	878254	726036	276242	299750	326326	315041	291154	257303	11	26	24	22	23	19	18	17	12	10\n\
20200713	3364157	1884967	906752	732547	287796	304435	330123	317657	291691	259652	11	26	24	22	23	19	18	17	12	10\n\
20200714	3431574	1926824	936181	738787	298292	311486	333867	319493	292931	262173	11	26	24	22	23	19	18	17	12	10\n\
20200715	3498902	1966748	968857	745197	311049	317635	337751	321205	293469	264561	11	26	24	22	23	19	18	17	12	10\n\
20200716	3576157	2012151	1003832	751612	324221	324041	341586	323698	294116	267061	11	26	24	23	23	19	18	17	12	10\n\
20200717	3647715	2046328	1039084	758001	337594	331298	345537	326439	294803	269440	15	26	24	23	23	19	18	17	12	10\n\
20200718	3711413	2074860	1077781	764215	350879	338913	349500	328846	295632	271606	16	26	24	23	23	19	18	17	12	10\n\
20200719	3773260	2098389	1118206	770311	364328	344224	353590	330930	296358	273788	16	27	24	23	23	19	18	17	12	10\n\
20200720	3834677	2118646	1155338	776212	373628	349396	357681	333029	296944	276202	19	27	24	23	23	19	18	17	12	10\n\
20200721	3899211	2159654	1193078	782040	381798	356255	362087	334683	297389	278827	27	27	24	23	23	19	18	17	12	10\n\
20200722	3970121	2227514	1238798	787890	394948	362274	366550	336402	297952	281413	30	27	24	23	23	19	18	17	12	10\n\
20200723	4038816	2287475	1288108	793720	408052	370712	371096	338759	298731	284034	31	27	24	24	23	19	18	17	12	10\n\
20200724	4112531	2343366	1337024	799499	421996	378285	375961	341304	299500	286523	32	27	24	24	23	20	18	17	12	10\n\
20200725	4178021	2394513	1385635	805332	434200	385036	375961	343592	300270	288839	39	27	24	24	23	20	18	17	12	10\n";

    var margin = {
        top: 20,
        right: 130,
        bottom: 75,
        left: 75
      },
      width = 900 - margin.left - margin.right,
      height = 500 - margin.top - margin.bottom;

    var parseDate = d3.time.format("%Y%m%d").parse;

    var x = d3.time.scale()
      .range([0, width]);

    var y = d3.scale.linear()
      .range([height, 0]);

    var color = d3.scale.category10();

    var xAxis = d3.svg.axis()
      .scale(x)
      .orient("bottom");

    var yAxis = d3.svg.axis()
      .scale(y)
      .orient("left");

    var line = d3.svg.line()
      
      .x(function(d) {
        return x(d.date);
      })
      .y(function(d) {
        return y(d.Confirmed);
      });

    var svg = d3.select('#d3id').append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
      .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    var data = d3.tsv.parse(myData);

    color.domain(d3.keys(data[0]).filter(function(key) {
      return key !== "date";
    }));

    data.forEach(function(d) {
      d.date = parseDate(d.date);
    });

    var countries = color.domain().map(function(name) {
      return {
        name: name,
        values: data.map(function(d) {
          return {
            date: d.date,
            Confirmed: +d[name]
          };
        })
      };
    });

    x.domain(d3.extent(data, function(d) {
      return d.date;
    }));

    var yDomain = [
      d3.min(countries, function(c) {
        return d3.min(c.values, function(v) {
          return v.Confirmed;
        });
      }),
      d3.max(countries, function(c) {
        return d3.max(c.values, function(v) {
          return v.Confirmed;
        });
      })
    ];
    y.domain(yDomain);
 
    var legend = svg.selectAll('g')
      .data(countries)
      .enter()
      .append('g')
      .attr('class', 'legend')
      //.attr("font", "12px sans-serif");

    legend.append('rect')
      .attr('x', width + 10)
      .attr('y', function(d, i) {
        return i * 20;
      })
      .attr('width', 10)
      .attr('height', 10)
      //.attr("font", "12px sans-serif")
      .style('fill', function(d) {
      return color(d.name);
      });

    legend.append('text')
      //.attr("font", "12px sans-serif")
      .attr('x', width + 25)
      .attr('y', function(d, i) {
        return (i * 20) + 9;
      })
      .text(function(d) {
        return d.name;
      });

    svg.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

    svg.append("g")
      .attr("class", "y axis")
      .call(yAxis)
      .append("text")
      .attr("transform", "translate("+ (-162/2) +","+(380/2)+")rotate(-90)")
      .attr("y", 6)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Cases");

    svg.append("g")
      .append("text")
      .attr("transform", "translate("+ (670/2) +","+(425-(10/3))+")")
      .attr("y", 6)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Month");

    var country = svg.selectAll(".country")
      .data(countries)
      .enter().append("g")
      .attr("class", "country");

    country.append("path")
      .attr("class", "line")
      .attr("d", function(d) {
        return line(d.values);
      })
      .style("stroke", function(d) {
        return color(d.name);
      });

    var mouseG = svg.append("g")
      .attr("class", "mouse-over-effects");

    mouseG.append("path") // this is the black vertical line to follow mouse
      .attr("class", "mouse-line")
      .style("stroke", "black")
      .style("stroke-width", "1px")
      .style("opacity", "0");
      
    var lines = document.getElementsByClassName('line');

    function GetDateValue(xvalue){
      var x0 = x.invert(xvalue);
      console.log("DataCount: ", data.length);
		  var i = bisectDate(data, x0, 1);
      console.log(i);
		  var d0 = data[i - 1];
		  var d1 = data[i];
      var d = undefined;
      if (x0 - d0.date > d1.date - x0){
        d = d1;
      }
      else{
        d = d0;
      }
      return d.date;
    }
    var interpolateCursor = true;
    
    mouseG.append('svg:rect') // append a rect to catch mouse movements on canvas
      .attr('width', width) // can't catch mouse events on a g element
      .attr('height', height)
      .attr('fill', 'none')
      .attr('pointer-events', 'all')
      .on('mouseout', function() { // on mouse out hide line, circles and text
        d3.select(".mouse-line")
          .style("opacity", "0");
        d3.selectAll(".mouse-per-line circle")
          .style("opacity", "0");
        d3.selectAll(".mouse-per-line text")
          .style("opacity", "0");
        d3.selectAll(".tooltip-component")
          .style("visibility", "hidden");
      })
      .on('mouseover', function() { // on mouse in show line, circles and text
        d3.select(".mouse-line")
          .style("opacity", "1");
        d3.selectAll(".mouse-per-line circle")
          .style("opacity", "1");
        d3.selectAll(".mouse-per-line text")
          .style("opacity", "1");
        d3.selectAll(".tooltip-component")
          .style("visibility", "visible");
      })
      .on('mousemove', function() { // mouse moving over canvas
        var mouse = d3.mouse(this);
      
        d3.select(".mouse-line")
          .attr("d", function() {
          	var cursorX = mouse[0];
            if (!interpolateCursor){
          		var date = GetDateValue(mouse[0]);
              cursorX = x(date);
            }
            var d = "M" + cursorX + "," + height;
            d += " " + cursorX + "," + 0;
            return d;
          });
      }); 
        
    var cursorToTooltipOffset = 5;
    var updateTooltipContents = function(tooltip, tooltipValues)
    {
      if (!tooltipValues) return tooltip.style("display", "none");
      
      var rows = tooltip.selectAll(".tooltip-row")
      	.data(tooltipValues, d => d.value+d.color);
      
      var row = rows.enter().append("g")
      	.attr("class", "tooltip-row")
      	.attr("transform",  (d, i) => `translate(5, ${(i * 20 + 5)})`);
      rows.exit().remove();
      
      let colorSquareSize = 10;
      row.append("rect")
      	.attr("height", colorSquareSize) 
      	.attr("width", colorSquareSize)
      	.attr("fill", d => d.color);
      
      var textMargin = 8;
      var rowText = row.select("text");
      row.append("text")
      	.attr("transform", `translate(${colorSquareSize+textMargin}, 0)`)
      	.attr("dominant-baseline", "hanging")
    		.attr("text-rendering", "optimizeLegibility")
      	.attr("stroke", "none")
    		.attr("fill", "white")
      	.attr("font-size", "12").append("tspan")
      	.attr("fill", "white")
      	.text(d => d.value)
      ;
      
      var markers = mouseG.selectAll(".cursor-data-marker")
      	.data(tooltipValues, d => d.value + d.color);
      markers.exit().remove();
      markers
      	.enter()
      	.append("circle")
      	.attr("class", "cursor-data-marker tooltip-component")
    		.attr("pointer-events", "none")
      	.attr("r", 3)
      	.attr("cx", d => {
          console.log(d);
          return x(d.date);
        })
      	.attr("cy", (d, i) => { 	
          console.log(`${d.value} => ${y(d.value)}`);
          return y(d.value);
        })
      	.attr("fill", (d) => d.color);
    };
    
    var plotArea = d3.select(".mouse-over-effects");
    var tooltip = svg.append("g").attr("class", "tooltip tooltip-component");
    
    tooltip.append("rect").attr("class", "tooltip-component")
    	.attr("pointer-events", "none")
      .attr("height", 400)
      .attr("width", 150)
    	.attr("visibility", "hidden")
    	.attr("opacity", 0.6)
    	.attr("stroke", "black");
    var bs = d3.bisector(function(d) { return d.date; });
    var bisectDate = bs.left;
    svg.on("mousemove", function()
    {
      var mouse = d3.mouse(this);
      var x0 = x.invert(mouse[0]);
		  var i = bisectDate(data, x0, 1);
		  var d0 = data[i - 1];
		  var d1 = data[i];
      var d = undefined;
      var row = undefined;
      if (x0 - d0.date > d1.date - x0){
        d = d1;
        row = data[i];
      }
      else{
        d = d0;
        row = data[i-1];
      }
      var keys = [];
      for (var prop in row){
        keys.push(prop);
      }
      keys = keys.filter(x => x != "date");
      var result = keys.map(k => 
      {
        return {date: d.date, value: row[k], color: color(k)};
      });
      
      var tooltipX = mouse[0];
      if (!interpolateCursor){
        tooltipX = x(d.date);
      }
      var verticalPositionPercent = 0.0;
      var tooltipY = plotArea.node().getBBox().height*verticalPositionPercent;
      
      tooltip
      	.attr("transform", `translate(${tooltipX+cursorToTooltipOffset}, ${tooltipY})`)
      	.call(updateTooltipContents, result);
    });
      
    
  </script>
</body>

</html>